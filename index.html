<!doctype html>
<html>
<head>
  <title>Angular 2 workshop</title>
  <base href="/">
  <script src="jspm_packages/system.js"></script>
  <script src="jspm.config.js"></script>
  <script>
    var ENV = (function () {
      return {
        host: 'https://dry-brook-76761.herokuapp.com'
        //host: 'http://localhost:5000'
      };
    }());
  </script>
</head>
<body>

<my-app>Loading...</my-app>
<script>
  var readyForMainLoad;
  var hr;
  var hotReloaderService;

  /**
   * 1. Load the hot reloader service
   * 2. After the hot reloader has been loaded, but not started, import the application source
   * 3. Now start up the hot reloader
   */
  System.trace = true;
  readyForMainLoad = System.import('systemjs-hot-reloader').then(function(HotReloader){
    hotReloaderService = HotReloader;
  });

  Promise.resolve(readyForMainLoad).then(function() {
    System.import('./app/styles/main.scss!').then(function () {
      System.import('app').then(function() {
        console.log('running');
        hr = new hotReloaderService.default('http://localhost:9089');
      });
    });

  });
</script>
</body>
</html>